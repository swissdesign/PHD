<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>P. Heiniger Design</title>
  <meta name="description" content="Digital and Brand Design Studio in Andermatt – clean, bold, code-first design thinking." />

  <!-- Modular CSS Structure -->
  <link rel="stylesheet" href="./phd_modular_css/animations/pulse.css" />
  <link rel="stylesheet" href="./phd_modular_css/base/reset.css" />
  <link rel="stylesheet" href="./phd_modular_css/base/typography.css" />
  <link rel="stylesheet" href="./phd_modular_css/layout/container.css" />
  <link rel="stylesheet" href="./phd_modular_css/layout/grid.css" />
  <link rel="stylesheet" href="./phd_modular_css/components/navbar.css" />
  <link rel="stylesheet" href="./phd_modular_css/components/buttons.css" />
  <link rel="stylesheet" href="./phd_modular_css/components/portfolio.css" />
  <link rel="stylesheet" href="./phd_modular_css/components/footer.css" />
  <link rel="stylesheet" href="./phd_modular_css/pages/home.css" />

  <!-- Optional: Google Fonts (self-host later for performance) -->
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,300" rel="stylesheet">
</head>
<body>
  <!-- BG-panorama -->
<div class="bg-panorama">
  <img id="bg-image" src="assets/images/pano1.jpg" alt="Panorama Background">
</div>
  <!-- Hidden SVG Symbol for Reuse -->
  <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
    <symbol id="phd-logo-symbol" viewBox="0 0 252.516 235.098">
      <path d="M165.218,0s36.521-.353,27.718,35.911c-7.493,30.869-48.057,29.376-48.057,29.376l-22.544,56.163,14.257.007,19.855-49.375,53.178.126s53.346-.319,41.051,59.82c-13.063,63.901-88.286,58.876-88.286,58.876h-53.228l15.823-40.678h-14.291s-3.375,9.535-15.769,40.678c-31.176,78.341-107.936,38.41-93.026-11.308,11.318-36.446,35.14-53.143,59.631-56.62,24.577-3.488,28.468-1.525,36.197-20.949,7.73-19.424,28.97-72.782,28.97-72.782l-23.722-.028L114.603,0h50.615ZM159.26,29.24l-2.662,6.677s5.074,1.176,6.706-3.292c1.577-4.316-4.045-3.385-4.045-3.385M177.037,102.1l-7.71,19.35h20.702l-11.442,28.774h-20.712l-4.731,11.885h20.704s35.6-.239,44.84-30.065c9.679-31.24-20.898-30.099-20.898-30.099l-20.754.155ZM33.338,177.7c-12.734,32.458,20.435,34.339,28.967,13.166,8.532-21.173,15.723-40.526,15.723-40.526,0,0-32.95-2.568-44.69,27.359"/>
    </symbol>
  </svg>

  <header>
    <nav class="nav">
      <div class="container nav-flex">
        <a href="index.html" class="brand">
          <img src="./assets/images/phd-logo.svg" alt="P. Heiniger Design Logo" class="logo-nav" />
        </a>
        <ul class="nav-menu">
          <li><a href="index.html">Home</a></li>
          <li><a href="portfolio.html">Portfolio</a></li>
          <li><a href="inquiries.html">Inquiries</a></li>
        </ul>
      </div>
    </nav>
  </header>

<section class="hero">
  <div class="logo-scroller">
    <svg class="logo" viewBox="0 0 252.516 235.098">
      <use href="#phd-logo-symbol" />
    </svg>
  </div>
</section>

  <footer>
    <div class="container">
      <p>&copy; 2025 P. Heiniger Design – Built with clean hands & dirty keyboard</p>
      <ul class="social-icons">
        <li><a href="#">FB</a></li>
        <li><a href="#">TW</a></li>
        <li><a href="#">IG</a></li>
        <li><a href="#">GH</a></li>
      </ul>
    </div>
  </footer>

  <!-- JS Scripts -->
  <script src="js/isotope.js"></script>
  <script src="js/imagesloaded.min.js"></script>
  <script src="js/wow.min.js"></script>
  <script src="js/custom.js"></script>
<script>
  const logo = document.querySelector('.logo');
const bgPanorama = document.querySelector('.bg-panorama');
const bgImage = document.getElementById('bg-image');

let scrollProgress = 0; // value between 0 and 1
let lastTouchY = null;

// Background image list
const bgImages = [
  'assets/images/pano1.jpg',
  'assets/images/pano2.jpg',
  'assets/images/pano3.jpg',
  'assets/images/pano4.jpg'
];
let currentBgIndex = 0;
bgImage.src = bgImages[currentBgIndex]; // Set initial image

// Rotate background image every 2 minutes
setInterval(() => {
  currentBgIndex = (currentBgIndex + 1) % bgImages.length;
  bgImage.src = bgImages[currentBgIndex];
}, 2 * 60 * 1000);

// Clamp helper
function clamp(val, min, max) {
  return Math.max(min, Math.min(max, val));
}

// Update both logo and background
function updateVisuals(progress) {
  const offsetNormalized = (progress - 0.5) * 2; // -1 to 1
  const clamped = clamp(offsetNormalized, -1, 1);
  const absProgress = Math.abs(clamped);

  // Logo transform
  const maxShiftVW = 50;
  const offsetX = clamped * maxShiftVW;
  logo.style.transform = `translateX(${offsetX}vw)`;

  // Logo fill color
  const r = Math.round(29 + (0 - 29) * absProgress);
  const g = Math.round(29 + (123 - 29) * absProgress);
  const b = Math.round(27 + (255 - 27) * absProgress);
  logo.style.fill = `rgb(${r}, ${g}, ${b})`;

  // Logo size
  const size = 400 - (200 * absProgress); // from 400px down to 200px
  logo.style.width = `${size}px`;

  // Opacity fade
  logo.style.opacity = `${1 - absProgress}`;

  // Background image translate
  updateBackground(progress);
}

// Background parallax movement
function updateBackground(progress) {
  const maxOffset = bgImage.offsetWidth - window.innerWidth;
  const offset = (progress - 0.5) * maxOffset * 2;
  bgImage.style.transform = `translateX(${-offset}px)`;
}

// Scroll via mouse
window.addEventListener('wheel', (e) => {
  scrollProgress += e.deltaY * 0.0015;
  scrollProgress = clamp(scrollProgress, 0, 1);
  updateVisuals(scrollProgress);
}, { passive: false });

// Scroll via touch
window.addEventListener('touchstart', (e) => {
  if (e.touches.length === 1) {
    lastTouchY = e.touches[0].clientY;
  }
});
window.addEventListener('touchmove', (e) => {
  if (e.touches.length === 1 && lastTouchY !== null) {
    const deltaY = lastTouchY - e.touches[0].clientY;
    scrollProgress += deltaY * 0.003;
    scrollProgress = clamp(scrollProgress, 0, 1);
    updateVisuals(scrollProgress);
    lastTouchY = e.touches[0].clientY;
  }
}, { passive: false });

// Prevent actual page scroll
window.addEventListener('scroll', (e) => {
  window.scrollTo(0, 0);
});
</script>
</body>
</html>
